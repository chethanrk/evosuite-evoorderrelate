<mvc:View height="100%" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:gantt="sap.gantt.simple"
	xmlns:axistime="sap.gantt.axistime" xmlns:config="sap.gantt.config" xmlns:shapes="sap.gantt.simple.shapes" xmlns:table="sap.ui.table"
	xmlns:dnd="sap.ui.core.dnd" controllerName="com.evorait.evosuite.evomanagedepend.controller.GanttTable"
	xmlns:html="http://www.w3.org/1999/xhtml" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">
	<template:alias name=".AH" value="sap.ui.model.odata.AnnotationHelper">
		<template:alias name=".evoAH" value="com.evorait.evosuite.evomanagedepend.model.AnnotationHelper">
			<template:with path="templateProperties>/" var="tempProps">
				<Page id="idGanttViewPage" showFooter="false" class="sapUiNoContentPadding" showSubHeader="false" enableScrolling="false">
					<customHeader>
						<OverflowToolbar id="idCustomHeaderToolbar">
							<Button id="idBtnTop" tooltip="{i18n>btn.top}" icon="sap-icon://collapse-group" press="onPressTop"/>
							<Button id="idBtnUp" tooltip="{i18n>btn.up}" icon="sap-icon://navigation-up-arrow" press="onPressUp"/>
							<Button id="idBtnDown" tooltip="{i18n>btn.down}" icon="sap-icon://navigation-down-arrow" press="onPressDown"/>
							<Button id="idBtnBottom" tooltip="{i18n>btn.bottom}" icon="sap-icon://expand-group" press="onPressBottom"/>
							<Label id="idLabelNetworksDropdown" text="{i18n>lbl.networks}"/>
							<Select id="idNetworksDropdown" items="{path:'/NetworkSet', events:{dataReceived: '.networkDataReceived'}}" change="onChangeNetwork">
								<core:Item key="{NETWORK_ID}" text="{NETWORK_ID}"/>
							</Select>
							<Button id="idBtnCretaeNewNetwork" text="{i18n>btn.createNewNetwork}" tooltip="{i18n>btn.createNewNetwork}" press="onPresCreateNewNetwork"/>
							<core:ExtensionPoint name="PageExtP|GanttTable|GanttSet|CustomHeader|Left"/>
							<ToolbarSpacer id="idGanttTableToolbarSpacer"/>
							<Button id="idBtnSave" type="Emphasized" tooltip="{i18n>btn.save}" text="{i18n>btn.save}" press="onPressNetworkSave"
								enabled="{viewModel>/pendingChanges}"/>
							<Button id="idBtnCancel" type="Accept" tooltip="{i18n>btn.cancel}" text="{i18n>btn.cancel}" press="onPressNetwokCancel"
								enabled="{viewModel>/pendingChanges}"/>
							<Button id="idBtnDeleteNetwork" icon="sap-icon://delete" tooltip="{i18n>btn.delete}" press="onPressNetworkDelete"/>
							<core:ExtensionPoint name="PageExtP|GanttTable|GanttSet|CustomHeader|Right"/>
						</OverflowToolbar>
					</customHeader>
					<content>
						<gantt:GanttChartContainer>
							<gantt:toolbar>
								<gantt:ContainerToolbar showDisplayTypeButton="true">
									<gantt:content>
										<core:ExtensionPoint name="GanttExtP|GanttTable|GanttSet|GanttToolbar|After"/>
									</gantt:content>
								</gantt:ContainerToolbar>
							</gantt:toolbar>
							<gantt:GanttChartWithTable id="gantt" shapeSelectionMode="Single" selectionPanelSize="40%">
								<gantt:axisTimeStrategy>
									<axistime:ProportionZoomStrategy>
										<axistime:totalHorizon>
											<config:TimeHorizon startTime="{path:'viewModel>/startTime',formatter: '.formatter.fnTimeConverter'}"
												endTime="{path:'viewModel>/endTime',formatter: '.formatter.fnTimeConverter'}"/>
										</axistime:totalHorizon>
										<axistime:visibleHorizon>
											<config:TimeHorizon startTime="{path:'viewModel>/startTime',formatter: '.formatter.fnTimeConverter'}"
												endTime="{path:'viewModel>/endTime',formatter: '.formatter.fnTimeConverter'}"/>
										</axistime:visibleHorizon>
									</axistime:ProportionZoomStrategy>
								</gantt:axisTimeStrategy>
								<gantt:table>
									<table:Table id="idTableGanttTable" selectionMode="Single" rows="{path:'ganttModel>/results'}" visibleRowCountMode="Auto"
										selectionBehavior="RowOnly" fixedRowCount="1" rowActionCount="1" rowSelectionChange="onGanttRowSelectionChange">
										<template:with path="tempProps>/GanttConfigs/" var="tabItem">
											<table:columns>
												<template:repeat list="{path:'tabItem>lineItems/'}" var="lineItem">
													<template:if test="{= ${path : 'lineItem>Value/Path'} === 'TYPE' }">
														<template:then>
															<core:ExtensionPoint name="TableExtP|GanttTable|{:= ${tabItem>entitySet} }|CustomColumn"/>
															<table:Column width="20%">
																<Text text="{= '{/' + ${tabItem>entitySet} + '/' + ${lineItem>Value/Path} + '/##com.sap.vocabularies.Common.v1.Label/String}' }"/>
																<table:template>
																	<FlexBox fitContainer="true">
																		<Select width="20%" items="{path:'/TypeSet', templateShareable: true}" change="onChangeType"
																			selectedKey="{= '{ganttModel>' + ${path : 'lineItem>Value/Path'} + '}' }">
																			<items>
																				<core:Item key="{TYPE}" text="{TYPE}" enabled="{= ${SORTID} !== '001'}"/>
																			</items>
																		</Select>
																	</FlexBox>
																</table:template>
															</table:Column>
														</template:then>
														<template:else>
															<table:Column>
																<Text text="{= '{/' + ${tabItem>entitySet} + '/' + ${lineItem>Value/Path} + '/##com.sap.vocabularies.Common.v1.Label/String}' }"/>
																<table:template>
																	<Text text="{= '{ganttModel>' + ${path : 'lineItem>Value/Path'} + '}' }"/>
																</table:template>
															</table:Column>
														</template:else>
													</template:if>
												</template:repeat>
											</table:columns>
											<table:rowSettingsTemplate>
												<gantt:GanttRowSettings rowId="{ganttModel>ObjectKey}"
													relationships="{path:'ganttModel>GanttToRelationship/results', templateShareable: 'true'}">
													<gantt:shapes1>
														<gantt:BaseRectangle shapeId="{ganttModel>ObjectKey}" time="{path:'ganttModel>START_DATE',formatter: '.formatter.fnTimeConverter'}"
															endTime="{path:'ganttModel>END_DATE',formatter: '.formatter.fnTimeConverter'}" fill="#0092D1" hoverable="true" connectable="true"
															verticalTextAlignment="Center"/>
													</gantt:shapes1>
													<gantt:relationships>
														<gantt:Relationship shapeId="{ganttModel>ObjectKey}" predecessor="{ganttModel>predecessor}" successor="{ganttModel>successor}"
															type="{ganttModel>type}"/>
													</gantt:relationships>
												</gantt:GanttRowSettings>
											</table:rowSettingsTemplate>
											<table:dragDropConfig>
												<dnd:DragDropInfo sourceAggregation="rows" targetAggregation="rows" dropPosition="Between" dragStart="onGanttTableDragStart"
													drop="onDropGanttTable" dragEnter="onDragEnter"/>
											</table:dragDropConfig>
											<table:rowActionTemplate>
												<table:RowAction>
													<table:items>
														<table:RowActionItem type="Custom" icon="sap-icon://delete" tooltip="{i18n>btn.delete}" visible="{= ${ganttModel>SORTID} !== '001'}"
															press="onPressDeleteDependency"/>
													</table:items>
												</table:RowAction>
											</table:rowActionTemplate>
										</template:with>
									</table:Table>
								</gantt:table>
							</gantt:GanttChartWithTable>
						</gantt:GanttChartContainer>
					</content>
				</Page>
			</template:with>
		</template:alias>
	</template:alias>
</mvc:View>